{% extends 'base.html' %}

{% block content %}

{% if message %}
  <div class="alert alert-success" role="alert">
    {{ message }}
  </div>
{% endif %}

<div class="container">
  <h1>{{ person.first_name }} {{ person.last_name }}</h1>

  <div class="d-flex my-5">
    {% for movie in person.movie_set.all %}
    <div class="card mx-1" style="width: 10rem;">
        <img src="..." class="card-img-top" alt="...">
        <div class="card-body">
          <a href="{% url 'movie' movie.id %}" class="">
            <h5 class="card-title">{{ movie.title }}</h5>
          </a>
          <p class="card-text">{{ movie.description }}</p>
        </div>
    </div>
    {% endfor %}
  </div>

  {% if user.is_authenticated %}
  <form class="" action="" method="POST">
    {% csrf_token %}
    <label for="first_name" class="form-label">First name:</label><br>
    <input type="text" class="form-control" id="first_name" name="first_name" value="{{ person.first_name }}"><br>
    <label for="last_name" class="form-label">Last name:</label><br>
    <input type="text" class="form-control" id="last_name" name="last_name" value="{{ person.last_name }}"><br>
    <label for="job_id" class="form-label">Job:</label><br>
    <select class="form-select" aria-label="Default select example" id="job_id" name="job_id">
      <option selected value="{{ person.job.id }}">{{ person.job.job_name }}</option>
      {% for job in jobs %}
      <option value="{{ job.id }}">{{ job.job_name }}</option>
      {% endfor %}
    </select>
    <br>
    <button type="submit" class="btn btn-primary">EDIT</button>
  </form>
  {% endif %}
</div>

{% endblock %}
